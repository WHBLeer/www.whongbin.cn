<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
	xmlns:n="http://typo3.org/ns/GeorgRinger/News/ViewHelpers"
	xmlns:sll="http://typo3.org/ns/Sll/Common/ViewHelpers"
	data-namespace-typo3-fluid="true">
	<f:layout name="General" />
	<f:section name="content">
		aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
		<!--TYPO3SEARCH_end-->
		<f:if condition="{news}">
			<f:then>
				<f:if condition="{settings.templateLayout}==1">
					<!-- 首页新闻 -->
					<div class="row align-items-stretch retro-layout-2">
						<div class="col-md-4">
							<f:for each="{news}" as="newsItem" iteration="iterator">
								<f:if condition="{iterator.index}<2">
									<n:link newsItem="{newsItem}" settings="{settings}" title="{newsItem.title}"
										class="h-entry {f:if(condition: iterator.isOdd, then: 'mb-30')} v-height gradient"
										style="background-image: url('{sll:getImgUrlFromContent(content:newsItem.bodytext,width:'370c',height:'200c',defaultImage:settings.defaultImage)}');">
										<div class="text">
											<h2>{newsItem.title}</h2>
											<span class="date">{f:format.date(date:newsItem.datetime, format:'Y-m-d')}</span>
										</div>
									</n:link>
								</f:if>
							</f:for>
						</div>
						<div class="col-md-4">
							<f:for each="{news}" as="newsItem" iteration="iterator">
								<f:if condition="{iterator.index}==2">
									<n:link newsItem="{newsItem}" settings="{settings}" title="{newsItem.title}"
										class="h-entry img-5 h-100 gradient"
										style="background-image: url('{sll:getImgUrlFromContent(content:newsItem.bodytext,width:'370c',height:'200c',defaultImage:settings.defaultImage)}');">
										<div class="text">
											<div class="post-categories mb-3">
												<f:if condition="{newsItem.tags}">
													<f:for each="{newsItem.tags}" as="tag">
														<span
															class="post-category bg-{f:if(condition: iterator.isEven, then: 'danger', else: 'primary')}">{tag.title}</span>
													</f:for>
												</f:if>
											</div>
											<h2>{newsItem.title}</h2>
											<span class="date">{f:format.date(date:newsItem.datetime,
												format:'Y-m-d')}</span>
										</div>
									</n:link>
								</f:if>
							</f:for>
						</div>
						<div class="col-md-4">
							<f:for each="{news}" as="newsItem" iteration="iterator">
								<f:if condition="{iterator.index}>2">
									<n:link newsItem="{newsItem}" settings="{settings}" title="{newsItem.title}"
										class="h-entry {f:if(condition: iterator.isEven, then: 'mb-30')} v-height gradient"
										style="background-image: url('{sll:getImgUrlFromContent(content:newsItem.bodytext,width:'370c',height:'200c',defaultImage:settings.defaultImage)}');">
										<div class="text">
											<h2>{newsItem.title}</h2>
											<span class="date">{f:format.date(date:newsItem.datetime, format:'Y-m-d')}</span>
										</div>
									</n:link>
								</f:if>
							</f:for>
						</div>
					</div>
				</f:if>
				<f:if condition="{settings.templateLayout}==2">
					<!-- 新闻列表 -->
					<div class="row mb-5">
						<div class="col-12">
							<h2>Recent Posts</h2>
						</div>
					</div>
					
					<f:if condition="{settings.hidePagination}">
						<f:then>
							<div class="row">
								<f:for each="{news}" as="newsItem" iteration="iterator">
									<f:render partial="List/Item"
										arguments="{newsItem: newsItem,settings:settings,iterator:iterator}" />
								</f:for>
							</div>
						</f:then>
						<f:else>
							<n:widget.paginate objects="{news}" as="paginatedNews" configuration="{settings.list.paginate}" initial="{offset:settings.offset,limit:settings.limit,recordId:contentObjectData.uid}">
								<div class="row">
									<f:for each="{paginatedNews}" as="newsItem" iteration="iterator">
										<f:render partial="List/Item"
											arguments="{newsItem: newsItem,settings:settings,iterator:iterator}" />
									</f:for>
								</div>
							</n:widget.paginate>
						</f:else>
					</f:if>
				</f:if>
				<f:if condition="{settings.templateLayout}==3">
					<!-- 媒体新闻 -->
					<f:debug>{news}</f:debug>
				</f:if>

			</f:then>
			<f:else>
				<div class="no-news-found">
					<f:translate key="list_nonewsfound" />
				</div>
			</f:else>
		</f:if>
		<!--TYPO3SEARCH_begin-->
	</f:section>

</html>